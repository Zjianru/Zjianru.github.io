---
layout:     post
title:      java 集合框架（四）
subtitle:   List 接口
date:       2018-11-09
author:     Alessio
header-img: img/PostBack_03.jpg
catalog: true
tags:
    - java
    - 集合框架
---

## List 接口

List 容器是一个有序的 Collection 定义，因此有时也称**序列**，在 List 中，允许出现重复元素。

在方法方面，List 除了从 Collection 中继承的方法，还提供了能够实现如下功能的定义：

- `Positional access` 位置访问 —— 可以通过元素在 List 中的位置进行访问
- `Search` 搜索 —— 搜索列表中的元素并返回其索引位置
- `Iteration` 迭代器
- `Range-view` 范围操作 —— 可以实现某一范围内的 List 截取操作

在具体的工具实现上，java 提供了两种实现方案 `ArrayList` 和 `LinkedList`,关于这两个容器的性能对比，会在后续进行叙述


## List 接口方法浅析

### `Positional Access and Search Operations` 索引访问和搜索操作

能够体现索引访问这一特性的基础方法，存在这样几个 

- `E get(int index);`
- `E set(int index, E element);`
- `void add(int index, E element);`
- `E remove(int index);`
- `int indexOf(Object o);`
- `int lastIndexOf(Object o);`
- `boolean addAll(int index, Collection<? extends E> c);`

其中:
- `set(int index, E element)` 和 `remove(int index)` 方法会将发生更改或者被删除的值通过返回值的形式 **回显** 出来

- `indexOf(Object o)` 和 `lastIndexOf(Object o)` 方法则会返回目标元素的 **第一个** 或者 **最后一个** 索引位置

- `addAll(int index, Collection<? extends E> c)` 则会将另一个 Collection 容器中的内容使用迭代器迭代出来，并把他们指定位置后，元素的插入顺序取决于它们被迭代出来的顺序


### `Iterators` 迭代器操作

List 提供了两个更**丰富**的迭代器方法：
```java
// 没有参数的方法将返回位于列表开头的ListIterator
ListIterator<E> listIterator();
// 带有int参数的方法返回一个位于指定索引处的ListIterator
ListIterator<E> listIterator(int index);
```
关于迭代器的底层代码及其实现思想，将会在后面的内容中呈现，现在仅仅理解为，这两个方法将返回两个不同的迭代器对象即可

### `Range-View Operation` 范围操作

关于范围操作，实际上是官方文档给它起的名字，使用这个方法可以像截取 String 那样截取一个 List，当然，它和 String 中的截取操作有些不同

官方文档中，是这样来描述他的：

> The range-view operation, subList(int fromIndex, int toIndex), 
> 
> returns a List view of the portion of this list whose indices range from fromIndex, inclusive, to toIndex, exclusive. 
> 
> This half-open range mirrors the typical for loop.
```java
for (int i = fromIndex; i < toIndex; i++) {
    ...
}
```
此外，有一个值得注意的地方，官方文档这样描述：

> As the term view implies, the returned List is backed up by the List on which subList was called, 
> 
> so changes in the former are reflected in the latter.

返回的 List（result） 由调用了 `subList()` 的参数 List（parameter） 进行备份，因此前者（result）中的更改将反映在后者（parameter） 中。

所以我们可以通过这个方法来完成一些需要批量完成的操作

比如，清空 List 内某一范围内的值

```java
list.subList(fromIndex, toIndex).clear();
```

在确定了某一范围后，针对此范围进行目标值的查找,但是这里要注意返回的索引值标志的是截取的结果 List 中的元素索引，而不是初始的参数 List

```java
int i = list.subList(fromIndex, toIndex).indexOf(o);
int j = list.subList(fromIndex, toIndex).lastIndexOf(o);
```

除此之外，java 为操作 Collection 容器提供的工具类 `Collections` 包含了许多用来操作 List 的方法

由于讨论他们需要牵扯到关于算法的内容，所以我们放到后面进行补充